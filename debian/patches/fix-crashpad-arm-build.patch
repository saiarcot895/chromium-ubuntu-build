Patch taken from https://chromium-review.googlesource.com/c/crashpad/crashpad/+/1114606 and https://chromium-review.googlesource.com/c/crashpad/crashpad/+/1117371

Index: dev/third_party/crashpad/crashpad/snapshot/linux/exception_snapshot_linux.cc
===================================================================
--- dev.orig/third_party/crashpad/crashpad/snapshot/linux/exception_snapshot_linux.cc
+++ dev/third_party/crashpad/crashpad/snapshot/linux/exception_snapshot_linux.cc
@@ -130,7 +130,7 @@ bool ExceptionSnapshotLinux::ReadContext
 
   LinuxVMAddress gprs_address =
       context_address + offsetof(UContext<ContextTraits32>, mcontext32) +
-      offsetof(MContext32, gprs);
+      offsetof(ContextTraits32::MContext32, gprs);
 
   SignalThreadContext32 thread_context;
   if (!memory->Read(gprs_address, sizeof(thread_context), &thread_context)) {
@@ -207,7 +207,7 @@ bool ExceptionSnapshotLinux::ReadContext
 
   LinuxVMAddress gprs_address =
       context_address + offsetof(UContext<ContextTraits64>, mcontext64) +
-      offsetof(MContext64, gprs);
+      offsetof(ContextTraits64::MContext64, gprs);
 
   ThreadContext::t64_t thread_context;
   if (!memory->Read(gprs_address, sizeof(thread_context), &thread_context)) {
Index: dev/third_party/crashpad/crashpad/snapshot/linux/signal_context.h
===================================================================
--- dev.orig/third_party/crashpad/crashpad/snapshot/linux/signal_context.h
+++ dev/third_party/crashpad/crashpad/snapshot/linux/signal_context.h
@@ -18,7 +18,9 @@
 #include <signal.h>
 #include <stdint.h>
 #include <sys/types.h>
+#include <sys/ucontext.h>
 
+#include <cstddef>
 #include <type_traits>
 
 #include "build/build_config.h"
@@ -244,7 +246,7 @@ struct SignalThreadContext32 {
 
 using SignalThreadContext64 = ThreadContext::t64_t;
 
-struct MContext32 {
+struct MContext32Data {
   uint32_t trap_no;
   uint32_t error_code;
   uint32_t oldmask;
@@ -252,19 +254,19 @@ struct MContext32 {
   uint32_t fault_address;
 };
 
-struct MContext64 {
+struct MContext64Data {
   uint64_t fault_address;
   SignalThreadContext64 gprs;
 };
 
 struct ContextTraits32 : public Traits32 {
-  using MContext32 = MContext32;
+  using MContext32 = MContext32Data;
   using MContext64 = Nothing;
 };
 
 struct ContextTraits64 : public Traits64 {
   using MContext32 = Nothing;
-  using MContext64 = MContext64;
+  using MContext64 = MContext64Data;
 };
 
 template <typename Traits>
